(this.webpackJsonpkenziehub=this.webpackJsonpkenziehub||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a,s,c=n(0),i=n.n(c),r=n(10),o=n.n(r),j=(n(117),n(118),n(45)),b=n(46),d=Object(b.a)(a||(a=Object(j.a)(["\n\n    body {\n        margin: 0;\n        padding: 0;\n        font-family: monospace;\n    }\n\n    :root {\n\n    }\n"]))),l=n(12),u=n(9),h=n(31),O=n.n(h),m=n(2),x=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){O.a.get("https://kenziehub.me/users").then((function(e){return a(e.data)}))}),[]),Object(m.jsx)("div",{children:n.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:e.name})},e.id)}))})},g=n(20),p=n(19),f=n(49),v=n(16),z=n(268),S=function(e){var t=e.autenticado,n=e.setAutenticado,a=Object(u.g)(),s=v.a().shape({email:v.b().email().required("Campo obrigat\xf3rio"),password:v.b().required("Campo obrigat\xf3rio")}),c=Object(p.d)({resolver:Object(f.a)(s)}),i=c.register,r=c.handleSubmit,o=c.formState.errors;return t?Object(m.jsx)(u.a,{to:"/dashboard"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Login"}),Object(m.jsxs)("form",{onSubmit:r((function(e){O.a.post("https://kenziehub.me/sessions",e).then((function(e){var t=e.data.token;return localStorage.setItem("@kenziehub:token",JSON.stringify(t)),n(!0),a.push("/dashboard")})).catch((function(e){return console.log("Email ou senha inv\xe1lidos"+e)})),console.log(e)})),children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"E-mail",variant:"outlined",size:"small"},i("email"))),Object(m.jsx)("h5",{children:o.email&&o.email.message})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"Senha",variant:"outlined",size:"small"},i("password"))),Object(m.jsx)("h5",{children:o.password&&o.password.message})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"Entrar"})})]})]})},k=function(e){var t=e.autenticado,n=Object(u.g)(),a=v.a().shape({name:v.b().required("Campo obrigat\xf3rio"),email:v.b().email().required("Campo obrigat\xf3rio"),password:v.b().min(8,"min 8 digitos").required("Campo obrigat\xf3rio"),bio:v.b().required("Campo obrigat\xf3rio"),contact:v.b().required("Campo obrigat\xf3rio"),course_module:v.b().required("Campo obrigat\xf3rio")}),s=Object(p.d)({resolver:Object(f.a)(a)}),c=s.register,i=s.handleSubmit,r=s.formState.errors;return t?Object(m.jsx)(u.a,{to:"/dashboard"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Cadastro"}),Object(m.jsxs)("form",{onSubmit:i((function(e){console.log(e),O.a.post("https://kenziehub.me/users",e).then((function(e){return alert("Us\xfaario cadastrado"),n.push("/login")})).catch((function(e){return console.log("Erro ao se cadastrar + "+e)}))})),children:[Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"E-mail",variant:"outlined",size:"small"},c("email"))),Object(m.jsx)("h5",{children:r.email&&r.email.message})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"Senha",variant:"outlined",size:"small"},c("password"))),Object(m.jsx)("h5",{children:r.password&&r.password.message})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"Nome",variant:"outlined",size:"small"},c("name"))),Object(m.jsx)("h5",{children:r.name&&r.name.message})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"Bio",variant:"outlined",size:"small"},c("bio"))),Object(m.jsx)("h5",{children:r.confirmPassword&&r.confirmPassword.message})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"contact",variant:"outlined",size:"small"},c("contact"))),Object(m.jsx)("h5",{children:r.contact&&r.contact.message})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)(z.a,Object(g.a)({label:"course_module",variant:"outlined",size:"small"},c("course_module"))),Object(m.jsx)("h5",{children:r.course_module&&r.course_module.message})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"Cadastrar"})})]})]})},C=b.b.div(s||(s=Object(j.a)(["\n    margin-top: 20%;\n\n    button {\n        margin-left: 1rem;\n    }\n"]))),w=function(e){e.autenticado;var t=Object(u.g)(),n=function(e){t.push(e)};return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"KENZIE HUB"}),Object(m.jsxs)(C,{children:[Object(m.jsx)("button",{onClick:function(){return n("/register")},children:"Cadastrar"}),Object(m.jsx)("button",{onClick:function(){return n("/login")},children:"Login"})]})]})},E=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){if(JSON.parse(localStorage.getItem("@kenziehub:token")))return a(!0)}),[n]),Object(m.jsxs)(u.d,{children:[Object(m.jsxs)(u.b,{exact:!0,path:"/",children:[" ",Object(m.jsx)(w,{autenticado:n})," "]}),Object(m.jsxs)(u.b,{path:"/register",children:["  ",Object(m.jsx)(k,{autenticado:n})," "]}),Object(m.jsxs)(u.b,{path:"/login",children:[" ",Object(m.jsx)(S,{autenticado:n,setAutenticado:a})," "]}),Object(m.jsxs)(u.b,{path:"/dashboard",children:[" ",Object(m.jsx)(x,{autenticado:n})," "]})]})};var q=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(E,{}),Object(m.jsx)(d,{})]})},y=n(29);o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(y.a,{children:Object(m.jsx)(q,{})})}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.367105c3.chunk.js.map