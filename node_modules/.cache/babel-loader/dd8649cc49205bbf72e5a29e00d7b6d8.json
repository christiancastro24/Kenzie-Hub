{"ast":null,"code":"var _jsxFileName = \"/home/christian/kenziehub/src/components/Dashboard/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./styles.css\";\nimport axios from \"axios\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Selectt } from \"./styles\";\nimport { useEffect } from \"react\";\nimport { Header } from \"../Header\";\nimport { motion } from 'framer-motion';\nimport { toast } from \"react-toastify\";\nimport tech from \"../../assets/tech3.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dashboard = ({\n  autenticado,\n  setAutenticado\n}) => {\n  _s();\n\n  const [usersAndTechs, setUsersAndTechs] = useState([]);\n  const [user, setUser] = useState([]);\n  const [status, setStatus] = useState(\"Iniciante\");\n  const [title, setTitle] = useState(\"\");\n  const [token] = useState(JSON.parse(localStorage.getItem(\"@kenziehub:token\")) || \"\");\n  const history = useHistory;\n\n  const handleAddTech = () => {\n    const data = {\n      title: title,\n      status: status\n    };\n    setTitle(\"\");\n    axios.post(\"https://kenziehub.me/users/techs\", data, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setUsersAndTechs([...usersAndTechs, {\n        title: title,\n        status: status\n      }]);\n      toast.success('Tecnologia adicionada');\n    }).catch(err => toast.error('Esta tecnologia já existe, por favor adicione outra'));\n  };\n\n  useEffect(() => {\n    axios.get(\"https://kenziehub.me/profile\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      setUser(res.data);\n      setUsersAndTechs(res.data.techs);\n    }).catch(err => console.log(err));\n  }, [usersAndTechs, token]);\n\n  const handleDeleteTech = id => {\n    axios.delete(`https://kenziehub.me/users/techs/${id}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => {\n      setUsersAndTechs(usersAndTechs.filter(user => user !== id));\n      toast.success('Tecnologia excluída');\n    }).catch(err => console.log(err));\n  };\n\n  if (!autenticado) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 16\n    }, this);\n  }\n\n  const styleInput = {\n    width: \"16rem\",\n    backgroundColor: \"#f0f0f0\",\n    color: \"#fff\"\n  };\n\n  const handleLogout = () => {\n    setAutenticado(false);\n    localStorage.clear();\n    history.push(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    transition: {\n      duration: 0.8\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        name: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-all\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Tecnologias\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Cadastre sua tecnologia\",\n              variant: \"outlined\",\n              value: title,\n              onChange: evt => setTitle(evt.target.value),\n              style: styleInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Selectt, {\n            value: status,\n            onChange: evt => setStatus(evt.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Iniciante\",\n              children: \"Iniciante\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Intermediario\",\n              children: \"Intermedi\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Avan\\xE7ado\",\n              children: \"Avan\\xE7ado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons\",\n            children: title === \"\" ? /*#__PURE__*/_jsxDEV(Button, {\n              disabled: true,\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: handleAddTech,\n              children: \"Enviar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: handleAddTech,\n                children: \"Enviar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), \"  \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"teste\",\n          children: usersAndTechs.map((tech, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-techs\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-child\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: tech.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: tech.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  onClick: () => handleDeleteTech(tech.id),\n                  children: \"Excluir\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 25\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: tech,\n          alt: tech\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Dashboard, \"J7oYAlBTWF5T+xOxohS30nQd9MI=\");\n\n_c = Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/home/christian/kenziehub/src/components/Dashboard/index.jsx"],"names":["useState","axios","Redirect","useHistory","TextField","Button","Selectt","useEffect","Header","motion","toast","Dashboard","autenticado","setAutenticado","usersAndTechs","setUsersAndTechs","user","setUser","status","setStatus","title","setTitle","token","JSON","parse","localStorage","getItem","history","handleAddTech","data","post","headers","Authorization","then","res","success","catch","err","error","get","techs","console","log","handleDeleteTech","id","delete","_","filter","styleInput","width","backgroundColor","color","handleLogout","clear","push","opacity","duration","name","evt","target","value","map","tech","index"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\nimport \"./styles.css\"\nimport axios from \"axios\"\nimport {  Redirect, useHistory } from \"react-router-dom\" \nimport { TextField, Button } from \"@material-ui/core\"\nimport { Selectt } from \"./styles\"\nimport { useEffect } from \"react\"\nimport { Header } from \"../Header\"\nimport { motion } from 'framer-motion'\nimport { toast } from \"react-toastify\"\nimport tech from \"../../assets/tech3.svg\"\n\n\n\nexport const Dashboard = ({ autenticado, setAutenticado }) => {\n    \n    const [usersAndTechs, setUsersAndTechs] = useState([])\n    const [user, setUser] = useState([])\n    const [status, setStatus] = useState(\"Iniciante\")\n    const [title, setTitle] = useState(\"\")\n  \n    const [token] = useState((JSON.parse(localStorage.getItem(\"@kenziehub:token\")) || \"\"))\n\n    const history = useHistory\n\n    const handleAddTech = () => {\n        \n        const data = { title: title, status: status }\n        setTitle(\"\")\n\n        axios.post(\"https://kenziehub.me/users/techs\", data,  {\n            \n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        })\n        .then(res => {\n            setUsersAndTechs([...usersAndTechs, {title: title, status: status}])\n            toast.success('Tecnologia adicionada')\n\n        })\n        .catch(err => toast.error('Esta tecnologia já existe, por favor adicione outra'))\n    } \n  \n\n    useEffect(() => {\n        axios.get(\"https://kenziehub.me/profile\", {\n            headers: { Authorization: `Bearer ${token}`},\n\n        }).then(res => {\n            setUser(res.data)\n            setUsersAndTechs(res.data.techs)\n\n        }).catch(err =>  console.log(err))\n    \n    }, [usersAndTechs, token])\n\n\n\n    const handleDeleteTech = (id) => {\n        \n        axios.delete(`https://kenziehub.me/users/techs/${id}`, {\n            headers: { Authorization: `Bearer ${token}`},\n\n         }).then(_ => {\n                setUsersAndTechs(usersAndTechs.filter(user => user !== id))\n                toast.success('Tecnologia excluída')\n\n        }).catch(err => console.log(err))\n    }\n    \n\n    if(!autenticado) {\n        return <Redirect to={\"/\"} />\n    }\n\n    const styleInput = {\n        width: \"16rem\",\n        backgroundColor: \"#f0f0f0\",\n        color: \"#fff\"\n    }\n\n\n     \n    const handleLogout = () => {\n        setAutenticado(false)\n        localStorage.clear()\n        history.push(\"/\")\n    }\n\n    return (\n        <motion.div \n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.8 }}\n      >\n        <div>\n            <Header name={user.name} />\n            <Button onClick={handleLogout}>Logout</Button>\n                \n            <div className=\"container-all\">\n            <div>\n          \n           </div>\n            <div>\n              <div>\n                <br /><br />\n                  <h3>Tecnologias</h3>     \n\n                <TextField \n                  label=\"Cadastre sua tecnologia\" \n                  variant=\"outlined\" \n                  value={title} \n                  onChange={evt => setTitle(evt.target.value)}\n                  style={styleInput}\n                />\n                </div>\n\n                <br /><br />\n\n                <Selectt value={status} onChange={evt => setStatus(evt.target.value)}> \n                    <option value=\"Iniciante\">Iniciante</option>\n                    <option value=\"Intermediario\">Intermediário</option>\n                    <option value=\"Avançado\">Avançado</option>\n                </Selectt>\n                <br /><br />\n\n                <br /><br />\n                <div className=\"buttons\">\n                {title === \"\" ? \n\n                <Button disabled variant=\"contained\" color=\"primary\" onClick={handleAddTech}>Enviar</Button >    \n                :\n                <div>\n                <Button variant=\"contained\" color=\"primary\" onClick={handleAddTech}>Enviar</Button >{\"  \"} \n                </div>\n                  \n                }\n        </div>\n            </div>\n\n            <div className=\"teste\">\n            {usersAndTechs.map((tech, index) => {\n                return (\n                    <div key={index} className=\"container-techs\">\n                        <div className=\"container-child\">\n                            <h2>{tech.title}</h2>\n                            <h3>{tech.status}</h3>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={() => handleDeleteTech(tech.id)}>Excluir</Button>\n                        </div>\n                    </div>\n                )\n            })}\n            </div>\n                <img src={tech} alt={tech} />\n            <br /><br />\n            </div>\n            \n           \n        </div>\n        </motion.div>\n    )\n}"]},"metadata":{},"sourceType":"module"}